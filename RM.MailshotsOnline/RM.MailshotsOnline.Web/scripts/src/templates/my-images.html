<div class="my-images_header">
	Images (<span data-bind="text: objects().length"></span>)
	<div class="my-images_toggle-upload" data-bind="click: toggleUploadImage">Upload a new image <span class="icon-upload"></span></div>
</div>

<div class="my-images">
    <div>
		<div class="library my-library" data-bind="css: {'library_loading': loading}">
	    	<!-- ko foreach: displayedObjects() -->
	    	<!-- ko if: typeof(uploading) != 'undefined' -->
	    	<div class="library-image library-image_uploading">
	    		<div class="library-image_spinner"></div>
	    		<div class="library-image-inner" data-bind="style: {backgroundImage: 'url(' + SmallSrc + ')'}"></div>
	    	</div>
	    	<!-- /ko -->
	    	<!-- ko if: typeof(uploading) == 'undefined' -->
	    	<div class="library-image" data-bind="click: $parent.previewImage">
	    		
	    		<div class="library-image-delete" data-bind="click: $parent.deleteImage, clickBubble: false, css: {'library-image-delete_disabled': MailshotUses}">
	    			<span class="icon-delete"></span>
	    		</div>
	    		<div class="library-image-inner" data-bind="style: {backgroundImage: 'url(' + SmallSrc + ')'}"></div>
	    		<!-- ko ifnot: MailshotUses -->
	    		<div class="library-image-select" data-bind="click: $parent.selectImage, clickBubble: false, css: {'library-image-select_active': $parent.selected().indexOf($data) > -1}"></div>
	    		<!-- /ko -->
	    	</div>
	    	<!-- /ko -->
	    	<!-- /ko -->
	    </div>
    </div>
</div>
<div class="my-images_footer">
<!-- ko if: selected().length -->
	<div class="my-images_delete" data-bind="click: deleteSelected">Delete selected (<span data-bind="text: selected().length"></span>) <span class="icon-delete"></span></div>
<!-- /ko -->
</div>
<pagination-component params="data: objects, perPage: 8, displayedList: displayedObjects"></pagination-component>

<!-- ko if: previewingImage -->
<!-- ko with: previewingImage -->
<div class="modal-bg" data-bind="click: $parent.clearPreviewingImage">
</div>
<div class="modal-container">
	<div class="image-modal">
		<img data-bind="attr: {src: MediumSrc}"/>
		<div class="image-modal_info">
			<!-- ko ifnot: MailshotUses -->
			Not used in any campaigns
			<!-- /ko -->
			<!-- ko if: MailshotUses -->
			Used in <span data-bind="text: MailshotUses"></span> campaign<!--ko if: MailshotUses > 1-->s<!-- /ko -->
			<!-- /ko -->
		</div>
	</div>
</div>
<!-- /ko -->
<!-- /ko -->

<!-- ko if: deleteImages().length -->
<!-- ko with: deleteImages -->
<div class="modal-bg" data-bind="click: $parent.clearDeleteImage">
</div>
<div class="modal-container">
	<div class="modal">
		<div class="modal-text">Are you sure you want to delete <!-- ko if: $data.length == 1 -->this image<!-- /ko --><!-- ko if: $data.length > 1 -->these <span data-bind="text: $data.length"></span> images<!-- /ko -->?</div>
		<div class="modal-buttons">
		<a class="button button_grey" data-bind="click: $parent.clearDeleteImage">Keep</a>
		<a class="button" data-bind="click: function() {$parent.remove(); $parent.clearDeleteImage()}">Delete</a>
		</div>
	</div>
</div>
<!-- /ko -->
<!-- /ko -->

<!-- ko if: uploadImage -->
<upload-image-component params="closeCallback: toggleUploadImage, imageArray: objects"></upload-image-component>
<!-- /ko -->