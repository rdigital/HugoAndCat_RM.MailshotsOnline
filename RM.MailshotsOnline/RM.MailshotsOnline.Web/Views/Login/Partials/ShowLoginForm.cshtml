@using RM.MailshotsOnline.Web.Extensions
@model RM.MailshotsOnline.Entities.ViewModels.LoginViewModel
@using System.Web.Mvc;

@{

    var umbracoHelper = new Umbraco.Web.UmbracoHelper(Umbraco.Web.UmbracoContext.Current);
    var passwordResetUrl = umbracoHelper.Content(Model.PageModel.PasswordResetPage.Id).Url;
}

@if (ViewBag.ErrorMessage != null)
{
    <div>@ViewBag.ErrorMessage</div>
}

@using (Html.BeginUmbracoForm("LoginForm", "LoginSurface"))
{
    @Html.ValidationSummary()
    <div>
        @Html.LabelFor(m => m.Email, Model.PageModel.EmailLabel)
        @Html.EditorFor(m => m.Email)
    </div>
    <div>
        @Html.LabelFor(m => m.Password, Model.PageModel.PasswordLabel)
        @Html.PasswordFor(m => m.Password)
    </div>
    <div>
        <input type="submit" value="@Model.PageModel.LoginCtaText" />
    </div>
}

<div>
    <a href="@passwordResetUrl">@Model.PageModel.PasswordResetCtaText</a>
</div>